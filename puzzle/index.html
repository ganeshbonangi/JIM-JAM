<!DOCTYPE html>
<html>
<head>
	<title>Welcome to Gaming</title>
	<script src="jquery.js"> </script>
	<script>
	    var images=new Array("numbers/0.jpg","numbers/1.jpg","numbers/2.jpg","numbers/3.jpg","numbers/4.jpg","numbers/5.jpg","numbers/6.jpg","numbers/7.jpg","numbers/8.jpg");
	    var imgs=new Array(3);
		 imgs[0]=new Array(3);
		 imgs[1]=new Array(3);
		 imgs[2]=new Array(3);
		 var arr=new Array(9);
		 var x,y,move=-1;
		$(document).ready( function(){
	               rand();
	               for(i=0;i<3;i++)
	                for(j=0;j<3;j++)
	                  imgs[i][j]=images[arr[i*3+j]];
	                   //var v=$('.photo');
	                   display1();
	                   compare();
	   $('.photo').dblclick(function(){ 
	 	   	  							var str=$(this).attr('src');
	   	  								var flag=0;
	   	   								try{ 	   	   	
	   	   	       								if(str==imgs[x][y+1])
	    	        									{swap(x,y+1);flag=1;}
	    	       								else if(str==imgs[x+1][y])
	    	         									{swap(x+1,y);flag=2;}
	    	       								else if(str==imgs[x-1][y])
	    	         									{swap(x-1,y);flag=3;}
	        	   								else if(str==imgs[x][y-1])
	    	     										{swap(x,y-1);flag=4;}
	    	  								}	catch(e){ 
	    	  	           	    	  	          			if(flag==0)
	    	  	              									{
	    	  	               										try{ 	count=0;
	    	  	              	  											if(str==imgs[x+1][y])
	    	         																{swap(x+1,y);count=1}
	    	       															else if(str==imgs[x-1][y])
	    	         																{swap(x-1,y);count=2}
	        	   															else if(str==imgs[x][y-1])
	    	     																	{swap(x,y-1);count=3;}
	    	     				  										}catch(e){
	    	     					     									if(count==0)
	    	     					     		 								{ 
	    	     					     		 	 								try{   c=0;
	    	     					     		 	 	 								   if(str==imgs[x-1][y])
	    	         					                     									{swap(x-1,y);c=1}
	        	   					                     									else if(str==imgs[x][y-1])
	    	     						                     								swap(x,y-1);
	    	     						                								}catch(e){
	    	     						                	        								if(c==0)
	    	     						                	          							       if(str==imgs[x][y-1])
	    	     						                	            								  swap(x,y-1);   
	    	     						                          								}
	    	     						          									}
	    	     						    							 		}
	    	  	              									}
	    	  	           								}
	    });
	         });
	    function rand(){
     	  for(var j=0;j<9;j++)
	         {
	            do{
		            var r=Math.floor(Math.random()*9);
		            var cout=0;
			        for(var i=0;i<j;i++)
				       {
				         if(arr[i]==r)
					     {cout++;break;}
				       }
				    if(cout==0)
   				      {arr[j]=r;}				
		           }while(cout!=0);
	          }
	       }
	      function display1()
	      {
	      	 for(i=0;i<3;i++)
	                    for(j=0;j<3;j++)
	                   {
	                   	       
	                   	       $(document).find($('.photo')[i*3+j]).attr('src',imgs[i][j]);
	                   	       if(imgs[i][j]=='numbers/8.jpg')
	                   	         {x=i;y=j;}
	                   }
	            move++;
	            $('p').text('No of moves:'+move);  
	      }	       
	       function swap(x1,y1)
	        {
	        	var src=imgs[x1][y1];
	        	imgs[x1][y1]=imgs[x][y];
	        	imgs[x][y]=src;
	        	display1();compare();
	        }
	       function compare()
	       {
	       	   var flag=0;
	       	   for(i=0;i<3;i++)
	       	   for(j=0;j<3;j++)
	       	   {
	       	   	 if(images[i*3+j]!=imgs[i][j])
	       	   	    {flag=1; break;}
	       	   }
	       	   if(flag==0)
	       	     $('p').text('Congradulatioin you have cracked the puzzle in '+move+'moves');
	       }
	       
	       $(document).keyup(function(e){ 
	       	//left
	       	if(e.keyCode==39)
	       	  {
	       	  	if(y==0)
	       	  	 ;
	       	  	else
	       	  	  {
	       	  	  	 swap(x,y-1);
	       	  	  }
	       	  }
	       	  //up
	       	else if(e.keyCode==40)
	       	  {
	       	  	if(x==0)
	       	  	 ;
	       	  	else
	       	  	  swap(x-1,y);
	       	  }
	       	  //right
	       	else if(e.keyCode==37)
	       	    {
	       	    	if(y==2)
	       	    	 ;
	       	    	else
	       	    	  swap(x,y+1);
	       	    }
	       	  //down
	       	else if(e.keyCode==38)
	       	  {
	       	  	if(x==2)
	       	  	  ;
	       	  	else 
	       	  	   swap(x+1,y);
	       	  }
	       	
	       });

	       

	</script>
</head>
    <body>
    	
    	<h1  style="float: left">Target puzzle</h1> <h1 style="float: right">Do this puzzle</h1>
	    <table style="float: left">
	    	<tr>
	    		<td><img src="numbers/0.jpg" height="100" width="100"/> </td>
	    		<td><img src="numbers/1.jpg" height="100" width="100"/> </td>
	    		<td><img src="numbers/2.jpg" height="100" width="100"/> </td>
	    	</tr>
	    	<tr>
	    		<td><img src="numbers/3.jpg" height="100" width="100"/> </td>
	    		<td><img src="numbers/4.jpg" height="100" width="100"/> </td>
	    		<td><img src="numbers/5.jpg" height="100" width="100"/> </td>
	    	</tr>
	    	<tr>
	    		<td><img src="numbers/6.jpg" height="100" width="100"/> </td>
	    		<td><img src="numbers/7.jpg" height="100" width="100"/> </td>
	    		<td><img src="numbers/8.jpg" height="100" width="100"/> </td>
	    	</tr>
	    </table>
	    <br><br>
	   
	    <table  style="float:right">
	    	<tr>
	    		<td><img width="100" height="100" class="photo"/> </td>
	    		<td><img width="100" height="100" class="photo"/></td>
	    		<td><img width="100" height="100"  class="photo"/> </td>
	    	</tr>
	    	<tr>
	    		<td><img width="100" height="100" class="photo"/> </td>
	    		<td><img width="100" height="100" class="photo"/></td>
	    		<td><img width="100" height="100" class="photo"/> </td>
	    	</tr>
	    	<tr>
	    		<td><img width="100" height="100" class="photo"/> </td>
	    		<td><img width="100" height="100" class="photo"/></td>
	    		<td><img width="100" height="100" class="photo"/> </td>
	    	</tr>
	    	<tr><td> </td><td> </td> <td><p> </p></td></tr>
	    </table><br>
	    
	    
    </body>
</html>